
language: r
use_bioc: true
bioc_required: true
r: bioc-release

before_install:
    - Rscript -e 'source(file = "http://bioconductor.org/biocLite.R");tryCatch(useDevel(devel = TRUE), error = function(err){message(err)})'
    - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then tlmgr install bera nowidow parnotes marginfix; fi
#    - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then sudo tlmgr install titling bera nowidow parnotes marginfix titlesec; fi
#    - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then Rscript -e 'BiocInstaller::biocLite(pkgs = c("BiocParallel", "Biostrings", "ensembldb", "ensemblVEP", "GenomeInfoDb", "GenomicRanges", "ggplot2", "IRanges", "reshape2", "Rsamtools", "S4Vectors", "SummarizedExperiment", "VariantAnnotation"))';fi
    
warnings_are_errors: false

r_github_packages:
    - rstudio/shiny
    - rstudio/DT
    
r_build_args: --keep-empty-dirs --no-resave-data
r_check_args: --no-vignettes --timings

after_success:
    - Rscript -e 'covr::codecov()'
